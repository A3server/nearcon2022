(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{185:function(e,t,n){"use strict";(function(e){var a=n(1),r=n.n(a),c=n(5),s=n(186),i=n(187),o=n(190),l=n(188),u=n(191),h=(n(202),n(0)),d=n.n(h),f=n(66),m=n.n(f),p=n(43),g=n(67),b=n(189),v=n.n(b),x=new m.a("10000000000000000000000"),_={networkId:"mainnet",nodeUrl:"https://rpc.mainnet.near.org",contractName:"berryclub.ek.near",walletUrl:"https://wallet.near.org"},y=d.a.createElement("span",{role:"img","aria-label":"avocado",className:"berry"},"\ud83e\udd51"),k=d.a.createElement("span",{role:"img","aria-label":"banana",className:"berry"},"\ud83c\udf4c"),w=d.a.createElement("span",{role:"img","aria-label":"cucumber",className:"berry"},"\ud83e\udd52"),C="Avocado",E="Banana",I=function(e){return"#".concat(e.toString(16).padStart(6,"0"))},P=function(e){e=I(e).substr(1);var t=parseInt(e.substr(0,2),16)/255,n=parseInt(e.substr(2,2),16)/255,a=parseInt(e.substr(4,2),16)/255,r=Math.max(t,n,a),c=r-Math.min(t,n,a),s=c&&(r===t?(n-a)/c:r===n?2+(a-t)/c:4+(t-n)/c);return[60*(s<0?s+6:s),r&&c/r,r]},N=function(e,t){return"rgba(".concat((e>>16)/1,", ").concat((e>>8&255)/1,", ").concat((255&e)/1,", ").concat(t,")")},B=function(e){for(var t=[],n=0;n<31;++n)t.push("hsl(".concat(e,", 100%, ").concat(100*n/30,"%)"));return t},S=function(t){var n=e.from(t,"base64");if(404!==n.length)throw new Error("Unexpected encoded line length");for(var a=[],r=4;r<n.length;r+=8){var c=n.readUInt32LE(r),s=n.readUInt32LE(r+4);a.push({color:c,ownerIndex:s})}return a},O=function(e){function t(e){var n;Object(s.a)(this,t),n=Object(o.a)(this,Object(l.a)(t).call(this,e));var a=["#000000","#666666","#aaaaaa","#FFFFFF","#F44E3B","#D33115","#9F0500","#FE9200","#E27300","#C45100","#FCDC00","#FCC400","#FB9E00","#DBDF00","#B0BC00","#808900","#A4DD00","#68BC00","#194D33","#68CCCA","#16A5A5","#0C797D","#73D8FF","#009CE0","#0062B1","#AEA1FF","#7B64FF","#653294","#FDA1FF","#FA28FF","#AB149E"].map((function(e){return e.toLowerCase()})),r=parseInt(a[Math.floor(Math.random()*a.length)].substring(1),16);return n.state={connected:!1,signedIn:!1,accountId:null,pendingPixels:0,boardLoaded:!1,selectedCell:null,currentColor:r,pickerColor:I(r),colors:a,gammaColors:B(0),pickingColor:!1,owners:[],accounts:{},highlightedAccountIndex:-1,selectedOwnerIndex:!1,farmingBanana:!1},n._buttonDown=!1,n._oldCounts={},n._numFailedTxs=0,n._balanceRefreshTimer=null,n.canvasRef=d.a.createRef(),n._context=!1,n._lines=!1,n._queue=[],n._pendingPixels=[],n._refreshBoardTimer=null,n._sendQueueTimer=null,n._stopRefreshTime=(new Date).getTime()+6e5,n._accounts={},n._initNear().then((function(){n.setState({connected:!0,signedIn:!!n._accountId,accountId:n._accountId})})),n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.canvasRef.current;this._context=t.getContext("2d");var n=function(t){var n,a;if("touches"in t){if(t.touches.length>1)return!0;var s=t.target.getBoundingClientRect();n=t.targetTouches[0].clientX-s.left,a=t.targetTouches[0].clientY-s.top}else n=t.offsetX,a=t.offsetY;n=Math.trunc(n/t.target.clientWidth*50),a=Math.trunc(a/t.target.clientHeight*50);var i=null;return n>=0&&n<50&&a>=0&&a<50&&(i={x:n,y:a}),JSON.stringify(i)!==JSON.stringify(e.state.selectedCell)&&e.setState({selectedCell:i,selectedOwnerIndex:e._lines&&i&&e._lines[i.y]&&e._lines[i.y][i.x].ownerIndex},Object(c.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.renderCanvas(),null===e.state.selectedCell||!e._buttonDown){t.next=9;break}if(!e.state.pickingColor){t.next=6;break}e.pickColor(e.state.selectedCell),t.next=9;break;case 6:return e.saveColor(),t.next=9,e.drawPixel(e.state.selectedCell);case 9:case"end":return t.stop()}}),t)})))),t.preventDefault(),!1};t.addEventListener("mousemove",n),t.addEventListener("touchmove",n);var a=function(){var t=Object(c.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e._buttonDown=!0,null===e.state.selectedCell){t.next=9;break}if(!e.state.pickingColor){t.next=6;break}e.pickColor(e.state.selectedCell),t.next=9;break;case 6:return e.saveColor(),t.next=9,e.drawPixel(e.state.selectedCell);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();t.addEventListener("mousedown",a),t.addEventListener("touchstart",a);var s=function(){e.setState({selectedCell:null},(function(){return e.renderCanvas()}))},i=function(){var t=Object(c.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e._buttonDown=!1,"touches"in n&&s();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();t.addEventListener("mouseup",i),t.addEventListener("touchend",i),t.addEventListener("mouseleave",s),t.addEventListener("mouseenter",(function(t){e._buttonDown&&("touches"in t||1&t.buttons||(e._buttonDown=!1))})),document.addEventListener("keydown",(function(t){t.altKey&&e.enablePickColor()})),document.addEventListener("keyup",(function(t){!t.altKey&&e.disablePickColor()}))}},{key:"enablePickColor",value:function(){var e=this;this.setState({pickingColor:!0},(function(){e.renderCanvas()}))}},{key:"disablePickColor",value:function(){var e=this;this.setState({pickingColor:!1},(function(){e.renderCanvas()}))}},{key:"pickColor",value:function(e){var t=this;if(this.state.signedIn&&this._lines&&this._lines[e.y]){var n=this._lines[e.y][e.x].color;console.log(P(n)),this.setState({currentColor:n,pickerColor:I(n),gammaColors:B(P(n)[0]),pickingColor:!1},(function(){t.renderCanvas()}))}}},{key:"_sendQueue",value:function(){var e=Object(c.a)(r.a.mark((function e(){var t,n=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._queue.slice(0,30),this._queue=this._queue.slice(30),this._pendingPixels=t,e.prev=3,e.next=6,this._contract.draw({pixels:t},new m.a("75000000000000"));case 6:this._numFailedTxs=0,e.next=14;break;case 9:e.prev=9,e.t0=e.catch(3),console.log("Failed to send a transaction",e.t0),this._numFailedTxs+=1,this._numFailedTxs<3?(this._queue=this._queue.concat(this._pendingPixels),this._pendingPixels=[]):(this._pendingPixels=[],this._queue=[]);case 14:return e.prev=14,e.next=17,Promise.all([this.refreshBoard(!0),this.refreshAccountStats()]);case 17:e.next=21;break;case 19:e.prev=19,e.t1=e.catch(14);case 21:this._pendingPixels.forEach((function(e){n._pending[e.y][e.x]===e.color&&(n._pending[e.y][e.x]=-1)})),this._pendingPixels=[];case 23:case"end":return e.stop()}}),e,this,[[3,9],[14,19]])})));return function(){return e.apply(this,arguments)}}()},{key:"_pingQueue",value:function(){var e=Object(c.a)(r.a.mark((function e(t){var n=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._sendQueueTimer&&(clearTimeout(this._sendQueueTimer),this._sendQueueTimer=null),0!==this._pendingPixels.length||!(this._queue.length>=30||t)){e.next=4;break}return e.next=4,this._sendQueue();case 4:this._queue.length>0&&(this._sendQueueTimer=setTimeout(Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._pingQueue(!0);case 2:case"end":return e.stop()}}),e)}))),500));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"drawPixel",value:function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.signedIn&&this._lines&&this._lines[t.y]){e.next=2;break}return e.abrupt("return");case 2:if(!((this.state.account?this.state.account.avocadoBalance:0)-this.state.pendingPixels<1)){e.next=5;break}return e.abrupt("return");case 5:if(this._pending[t.y][t.x]===this.state.currentColor||this._lines[t.y][t.x].color===this.state.currentColor){e.next=9;break}this._pending[t.y][t.x]=this.state.currentColor,e.next=10;break;case 9:return e.abrupt("return");case 10:return this._queue.push({x:t.x,y:t.y,color:this.state.currentColor}),this._stopRefreshTime=(new Date).getTime()+6e5,e.next=14,this._pingQueue(!1);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseAccount",value:function(e,t){return(e=e?{accountId:e.account_id,accountIndex:e.account_index,avocadoBalance:parseFloat(e.avocado_balance)/this._pixelCost,bananaBalance:parseFloat(e.banana_balance)/this._pixelCost,numPixels:e.num_pixels,farmingPreference:e.farming_preference}:{accountId:t,accountIndex:-1,avocadoBalance:25,bananaBalance:0,numPixels:0,farmingPreference:C}).startTime=(new Date).getTime(),e.avocadoPixels=e.farmingPreference===C?e.numPixels+1:0,e.bananaPixels=e.farmingPreference===E?e.numPixels:0,e.avocadoRewardPerMs=e.avocadoPixels/864e5,e.bananaRewardPerMs=e.bananaPixels/864e5,e}},{key:"getAccount",value:function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,this._contract.get_account({account_id:t});case 3:return e.t1=e.sent,e.t2=t,e.abrupt("return",e.t0.parseAccount.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAccountByIndex",value:function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,this._contract.get_account_by_index({account_index:t});case 3:return e.t1=e.sent,e.abrupt("return",e.t0.parseAccount.call(e.t0,e.t1,"unknown"));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"refreshAccountStats",value:function(){var e=Object(c.a)(r.a.mark((function e(){var t,n=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAccount(this._accountId);case 2:t=e.sent,this._balanceRefreshTimer&&(clearInterval(this._balanceRefreshTimer),this._balanceRefreshTimer=null),this.setState({pendingPixels:this._pendingPixels.length+this._queue.length,farmingBanana:t.farmingPreference===E,account:t}),this._balanceRefreshTimer=setInterval((function(){var e=(new Date).getTime()-t.startTime;n.setState({account:Object.assign({},t,{avocadoBalance:t.avocadoBalance+e*t.avocadoRewardPerMs,bananaBalance:t.bananaBalance+e*t.bananaRewardPerMs}),pendingPixels:n._pendingPixels.length+n._queue.length})}),100);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_initNear",value:function(){var e=Object(c.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new p.keyStores.BrowserLocalStorageKeyStore,e.next=3,p.connect(Object.assign({deps:{keyStore:t}},_));case 3:return n=e.sent,this._keyStore=t,this._near=n,this._walletConnection=new p.WalletConnection(n,_.contractName),this._accountId=this._walletConnection.getAccountId(),this._account=this._walletConnection.account(),this._contract=new p.Contract(this._account,_.contractName,{viewMethods:["get_account","get_account_by_index","get_lines","get_line_versions","get_pixel_cost","get_account_balance","get_account_num_pixels","get_account_id_by_index"],changeMethods:["draw","buy_tokens","select_farming_preference"]}),e.t0=parseFloat,e.next=13,this._contract.get_pixel_cost();case 13:if(e.t1=e.sent,this._pixelCost=(0,e.t0)(e.t1),!this._accountId){e.next=18;break}return e.next=18,this.refreshAccountStats();case 18:return this._lineVersions=Array(50).fill(-1),this._lines=Array(50).fill(!1),this._pending=Array(50).fill(!1),this._pending.forEach((function(e,t,n){return n[t]=Array(50).fill(-1)})),e.next=24,this.refreshBoard(!0);case 24:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"refreshBoard",value:function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,s,i,o,l,u,h,d,f=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._refreshBoardTimer&&(clearTimeout(this._refreshBoardTimer),this._refreshBoardTimer=null),(new Date).getTime()<this._stopRefreshTime&&(this._refreshBoardTimer=setTimeout(Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.refreshBoard(!1);case 2:case"end":return e.stop()}}),e)}))),1e3)),t||!document.hidden){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,this._contract.get_line_versions();case 7:for(n=e.sent,a=[],s=0;s<50;++s)n[s]!==this._lineVersions[s]&&a.push(s);for(i=[],o=0;o<a.length;o+=10)i.push(a.slice(o,o+10));return e.next=14,Promise.all(i.map((function(e){return f._contract.get_lines({lines:e})})));case 14:for(l=(l=e.sent).flat(),i=i.flat(),u=0;u<i.length;++u)h=i[u],d=S(l[u]),this._lines[h]=d;this._lineVersions=n,this._refreshOwners(),this.renderCanvas();case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_refreshOwners",value:function(){var e=this,t={};this._lines.flat().forEach((function(e){t[e.ownerIndex]=(t[e.ownerIndex]||0)+1})),delete t[0];var n=Object.keys(t).sort((function(e,n){return t[n]-t[e]}));this.setState({owners:n.map((function(e){return{accountIndex:e=parseInt(e),numPixels:t[e]}}))}),n.forEach(function(){var n=Object(c.a)(r.a.mark((function n(a){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((a=parseInt(a))in e._accounts&&t[a]===(e._oldCounts[a]||0)){n.next=12;break}return n.prev=2,n.next=5,e.getAccountByIndex(a);case 5:e._accounts[a]=n.sent,n.next=11;break;case 8:n.prev=8,n.t0=n.catch(2),console.log("Failed to fetch account index #",a,n.t0);case 11:e.setState({accounts:Object.assign({},e._accounts)});case 12:case"end":return n.stop()}}),n,null,[[2,8]])})));return function(e){return n.apply(this,arguments)}}()),this.setState({accounts:Object.assign({},this._accounts)}),this._oldCounts=t}},{key:"renderCanvas",value:function(){if(this._context&&this._lines){for(var e=this._context,t=0;t<50;++t){var n=this._lines[t];if(n)for(var a=0;a<50;++a){var r=n[a];e.fillStyle=I(r.color),e.fillRect(16*a,16*t,16,16),this.state.highlightedAccountIndex>=0&&(r.ownerIndex!==this.state.highlightedAccountIndex?(e.fillStyle="rgba(32, 32, 32, 0.8)",e.fillRect(16*a,16*t,8,8),e.fillRect(16*(a+.5),16*(t+.5),8,8),e.fillStyle="rgba(0, 0, 0, 0.8)",e.fillRect(16*a,16*(t+.5),8,8),e.fillRect(16*(a+.5),16*t,8,8)):(e.beginPath(),e.strokeStyle=e.fillStyle="rgba(255, 255, 255, 0.8)",e.lineWidth=.5,e.rect(16*a+.5,16*t+.5,15,15),e.stroke(),e.closePath()))}}if(this._pendingPixels.concat(this._queue).forEach((function(t){e.fillStyle=I(t.color),e.fillRect(16*t.x,16*t.y,16,16)})),this.state.selectedCell){var c=this.state.selectedCell;if(this.state.pickingColor){var s=this._lines[c.y]?this._lines[c.y][c.x].color:0;e.beginPath(),e.strokeStyle=e.fillStyle=N(s,.5),e.lineWidth=64,e.arc(16*(c.x+.5),16*(c.y+.5),64,0,2*Math.PI),e.stroke(),e.closePath(),e.beginPath(),e.strokeStyle=e.fillStyle=N(s,1),e.lineWidth=32,e.arc(16*(c.x+.5),16*(c.y+.5),64,0,2*Math.PI),e.stroke(),e.closePath()}else e.fillStyle=N(this.state.currentColor,.2),e.fillRect(16*c.x,0,16,16*c.y),e.fillRect(16*c.x,16*(c.y+1),16,16*(50-c.y-1)),e.fillRect(0,16*c.y,16*c.x,16),e.fillRect(16*(c.x+1),16*c.y,16*(50-c.x-1),16),e.beginPath(),e.lineWidth=3,e.fillStyle=I(this.state.currentColor),e.strokeStyle=I(this.state.currentColor),e.rect(16*c.x,16*c.y,16,16),e.stroke(),e.closePath()}this.state.boardLoaded||this.setState({boardLoaded:!0})}}},{key:"requestSignIn",value:function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"Berry Club",e.next=3,this._walletConnection.requestSignIn(_.contractName,"Berry Club");case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"logOut",value:function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._walletConnection.signOut(),this._accountId=null,this.setState({signedIn:!!this._accountId,accountId:this._accountId});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hueColorChange",value:function(e){console.log(e),this.setState({gammaColors:B(e.hsl.h)}),this.changeColor(e)}},{key:"saveColor",value:function(){var e=I(this.state.currentColor),t=this.state.colors.indexOf(e);t>=0&&this.state.colors.splice(t,1),this.setState({colors:[e].concat(this.state.colors).slice(0,31)})}},{key:"changeColor",value:function(e){var t=this,n=65536*e.rgb.r+256*e.rgb.g+e.rgb.b;this.setState({pickerColor:e,currentColor:n},(function(){t.renderCanvas()}))}},{key:"buyTokens",value:function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=x.muln(t),e.next=3,this._contract.buy_tokens({},new m.a("30000000000000"),n);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setHover",value:function(e,t){var n=this;t?this.setState({highlightedAccountIndex:e},(function(){n.renderCanvas()})):this.state.highlightedAccountIndex===e&&this.setState({highlightedAccountIndex:-1},(function(){n.renderCanvas()}))}},{key:"switchBerry",value:function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({farmingBanana:t}),e.next=3,this._contract.select_farming_preference({berry:t?E:C});case 3:return e.next=5,this.refreshAccountStats();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.connected?this.state.signedIn?d.a.createElement("div",null,d.a.createElement("div",{className:"float-right"},d.a.createElement("button",{className:"btn btn-outline-secondary",onClick:function(){return e.logOut()}},"Log out (",this.state.accountId,")")),d.a.createElement("div",{className:"your-balance"},"Balance: ",d.a.createElement(T,{account:this.state.account,pendingPixels:this.state.pendingPixels,detailed:!0}),d.a.createElement("div",null,"Farming preference:",d.a.createElement(v.a,{onChange:function(t){return e.switchBerry(t)},checked:this.state.farmingBanana,className:"react-switch",height:30,width:70,offColor:"#666",onColor:"#666",uncheckedIcon:d.a.createElement("div",{className:"switch-berry avocado"},y),checkedIcon:d.a.createElement("div",{className:"switch-berry banana"},k)}))),d.a.createElement("div",{className:"buttons"},d.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.buyTokens(10)}},"Buy ",d.a.createElement("span",{className:"font-weight-bold"},"25",y)," for ",d.a.createElement("span",{className:"font-weight-bold"},"\u24c30.1"))," ",d.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.buyTokens(40)}},"Buy ",d.a.createElement("span",{className:"font-weight-bold"},"100",y)," for ",d.a.createElement("span",{className:"font-weight-bold"},"\u24c30.4"))," ",d.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.buyTokens(100)}},"Buy ",d.a.createElement("span",{className:"font-weight-bold"},"250",y)," for ",d.a.createElement("span",{className:"font-weight-bold"},"\u24c31"))," ",d.a.createElement("button",{className:"btn btn-success",onClick:function(){return e.buyTokens(500)}},"DEAL: Buy ",d.a.createElement("span",{className:"font-weight-bold"},"1500",y)," for ",d.a.createElement("span",{className:"font-weight-bold"},"\u24c35"))),d.a.createElement("div",{className:"color-picker"},d.a.createElement(g.HuePicker,{color:this.state.pickerColor,width:"100%",disableAlpha:!0,onChange:function(t){return e.hueColorChange(t)}}),d.a.createElement(g.GithubPicker,{className:"circle-picker",colors:this.state.gammaColors,color:this.state.pickerColor,triangle:"hide",width:"100%",onChangeComplete:function(t){return e.changeColor(t)}}),d.a.createElement(g.GithubPicker,{className:"circle-picker",colors:this.state.colors,color:this.state.pickerColor,triangle:"hide",width:"100%",onChangeComplete:function(t){return e.hueColorChange(t)}}))):d.a.createElement("div",{style:{marginBottom:"10px"}},d.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.requestSignIn()}},"Log in with NEAR Wallet")):d.a.createElement("div",null,"Connecting... ",d.a.createElement("span",{className:"spinner-grow spinner-grow-sm",role:"status","aria-hidden":"true"}));return d.a.createElement("div",{className:"container"},d.a.createElement("div",{className:"row"},d.a.createElement("div",null,d.a.createElement("h2",null,y," Berry Club ",k)," ",d.a.createElement("a",{className:"btn btn-outline-none",href:"https://farm.berryclub.io"},"Berry Farm ",w),t,d.a.createElement("div",null,this.state.signedIn?d.a.createElement("div",null,"Draw here - one ",y," per pixel. Hold ",d.a.createElement("span",{className:"badge badge-secondary"},"ALT")," key to pick a color from board."," ",d.a.createElement("button",{className:"btn btn-outline-secondary",onClick:function(){return e.state.pickingColor?e.disablePickColor():e.enablePickColor()}},this.state.pickingColor?"Cancel":"Color Picker")):"",d.a.createElement("canvas",{ref:this.canvasRef,width:800,height:800,className:this.state.boardLoaded?"pixel-board":"pixel-board c-animated-background"})),d.a.createElement("div",null,d.a.createElement("div",{className:"call-to-action"},d.a.createElement("a",{className:"btn",href:"https://farm.berryclub.io"},"Berry Farm ",w)," is now open!"))),d.a.createElement("div",{className:"leaderboard"},d.a.createElement("h2",null,"Leaderboard"),d.a.createElement("div",null,d.a.createElement(A,{owners:this.state.owners,accounts:this.state.accounts,setHover:function(t,n){return e.setHover(t,n)},selectedOwnerIndex:this.state.selectedOwnerIndex,highlightedAccountIndex:this.state.highlightedAccountIndex})))))}}]),t}(d.a.Component),T=function(e){var t=e.account;if(!t)return"";var n=e.detailed?3:1,a=t.avocadoBalance-(e.pendingPixels||0),r=t.avocadoPixels>0?d.a.createElement("span",null,"(+",d.a.createElement("span",{className:"font-weight-bold"},t.avocadoPixels),y,"/day)"):"",c=t.bananaPixels>0?d.a.createElement("span",null,"(+",d.a.createElement("span",{className:"font-weight-bold"},t.bananaPixels),k,"/day)"):"";return d.a.createElement("span",{className:"balances font-small"},d.a.createElement("span",{className:"font-weight-bold"},a.toFixed(n)),y," ",d.a.createElement("span",{className:"font-weight-bold"},t.bananaBalance.toFixed(n)),k," ",r,c,e.pendingPixels?d.a.createElement("span",null," (",e.pendingPixels," pending)"):"")},A=function(e){var t=e.owners.map((function(t){return t.accountIndex in e.accounts&&(t.account=e.accounts[t.accountIndex]),d.a.createElement(F,Object.assign({key:t.accountIndex},t,{isSelected:t.accountIndex===e.selectedOwnerIndex,setHover:function(n){return e.setHover(t.accountIndex,n)},isHighlighted:t.accountIndex===e.highlightedAccountIndex}))}));return d.a.createElement("table",{className:"table table-hover table-sm"},d.a.createElement("tbody",null,t))},F=function(e){var t=e.account;return d.a.createElement("tr",{onMouseEnter:function(){return e.setHover(!0)},onMouseLeave:function(){return e.setHover(!1)},className:e.isSelected?"selected":""},d.a.createElement("td",null,t?d.a.createElement(j,{accountId:t.accountId}):"..."),d.a.createElement("td",{className:"text-nowrap"},d.a.createElement("small",null,d.a.createElement(T,{account:t}))))},j=function(e){var t=e.accountId,n=t.length>15?t.slice(0,6)+"..."+t.slice(-6):t;return d.a.createElement("a",{className:"account",href:"https://wayback.berryclub.io/".concat(t)},n)};t.a=O}).call(this,n(10).Buffer)},192:function(e,t,n){e.exports=n(193)},193:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(184),s=n.n(c),i=(n(198),n(185));s.a.render(r.a.createElement(i.a,null),document.getElementById("root"))},198:function(e,t,n){},202:function(e,t,n){},203:function(e,t){},207:function(e,t){},215:function(e,t){},228:function(e,t){},230:function(e,t){}},[[192,1,2]]]);
//# sourceMappingURL=main.d3d03233.chunk.js.map